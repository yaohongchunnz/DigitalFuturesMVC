@model Dont_Panic_MVC_API.Models.API_Models.Job
@using Microsoft.AspNet.Identity;
@{
    ViewBag.Title = "Job Details";
}

<div class="container">
    <h2>Job details</h2>
    <div class="jumbotron drop-shadow-lite">
        <h3 class="green-text">@Html.DisplayFor(model => model.title)</h3>

        <p style="font-size:14px">@Html.DisplayFor(model => model.description)</p>


        <div class="row">
            <div class="col-md-4">
                <p class="text-primary" style="font-size:12px">Category: @Html.DisplayFor(model => model.jobtype)</p>
            </div>
            <div class="col-md-4">
                <p class="text-primary" style="font-size:12px">Located in: @Html.DisplayFor(model => model.city)</p>
            </div>
            <div class="col-md-4">
                @if (User.Identity.Name.Equals(Model.username))
                {
                    <p class="text-info">
                        @Html.ActionLink("Edit", "Edit", new { id = Model.jobid }) |
                        @Html.ActionLink("Delete", "Delete", new { id = Model.jobid })
                    </p>

                }
                else
                {
                    <p class="text-primary">
                        Posted by: @Model.username
                    </p>
                }
            </div>
            <div class="col-md-4">
                <p class="text-info" style="font-size:12px">Created on: @Model.submitDate</p>
            </div>
            <div class="col-md-4">
                <p class="text-info" style="font-size:12px">Expires on: @Model.expireDate</p>
            </div>
        </div>

    </div>

</div>
<p>
    @if (User.Identity.IsAuthenticated)
    {

        if (User.Identity.GetUserId().Equals(Model.jobid))
        {
            @Html.ActionLink("Edit", "Edit", new { id = Model.jobid });
        }
        @Html.ActionLink("Back to your jobs", "Index");
    }
    else
    {
        @Html.ActionLink("Back to browsing", "Browse")
    }
</p>
